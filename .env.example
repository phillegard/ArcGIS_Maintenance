# ArcGIS SDE Maintenance Configuration

# =============================================================================
# CORE SETTINGS (Required)
# =============================================================================

# Directory containing .sde connection files
SDE_CONNECTION_DIR=C:\Users\Documents\ConnectionFiles

# Directory for log file output
SDE_LOG_DIR=C:\Users\Documents\Logs

# =============================================================================
# VERSION MANAGEMENT
# =============================================================================

# Maximum age (days) before a version is considered stale
VERSION_MAX_AGE_DAYS=30

# Comma-separated patterns to exclude from deletion (e.g., QA_,PROD_,ARCHIVE_)
VERSION_EXCLUDE_PATTERNS=

# Delete versions after successful reconcile/post (true/false)
DELETE_AFTER_POST=false

# =============================================================================
# CONNECTION MANAGEMENT
# =============================================================================

# Minutes to wait for connections to drain when blocking
CONNECTION_TIMEOUT_MINUTES=5

# Seconds to wait for disconnections to complete
DISCONNECT_TIMEOUT_SECONDS=60

# Exclude admin/sde users from disconnection (true/false)
EXCLUDE_ADMIN_USER=true

# Alert threshold for long-running connections (minutes)
LONG_CONNECTION_THRESHOLD_MINUTES=60

# Directory for connection reports (defaults to SDE_LOG_DIR)
REPORT_OUTPUT_DIR=

# =============================================================================
# HEALTH MONITORING
# =============================================================================

# State count thresholds for compress recommendations
STATE_COUNT_WARNING_THRESHOLD=10000
STATE_COUNT_CRITICAL_THRESHOLD=50000

# Delta table size thresholds (MB)
DELTA_SIZE_WARNING_MB=100
DELTA_SIZE_CRITICAL_MB=500

# Health report format: json, txt
HEALTH_REPORT_FORMAT=json

# Index fragmentation warning threshold (percentage)
FRAGMENTATION_WARNING_THRESHOLD=30

# =============================================================================
# DATA INTEGRITY
# =============================================================================

# Automatically repair geometry errors (true/false) - false = report only
AUTO_REPAIR=false

# Directory for geometry error reports
GEOMETRY_REPORT_DIR=

# Geodatabase for topology error export (optional)
TOPOLOGY_ERROR_OUTPUT_GDB=

# Topology validation extent: FULL_EXTENT or specific extent
VALIDATE_EXTENT=FULL_EXTENT

# =============================================================================
# ARCGIS SERVER (Optional - for service cache clearing)
# =============================================================================

# ArcGIS Server admin URL (e.g., https://server.domain.com:6443/arcgis)
AGS_SERVER_URL=

# Server admin credentials
AGS_ADMIN_USER=
AGS_ADMIN_PASSWORD=

# Clear all map service caches (true/false)
CLEAR_ALL_CACHES=false

# =============================================================================
# PORTAL (Optional - for hosted feature service backup)
# =============================================================================

# Portal URL (e.g., https://portal.domain.com/arcgis)
PORTAL_URL=

# Portal admin credentials
PORTAL_ADMIN_USER=
PORTAL_ADMIN_PASSWORD=

# Local directory for Portal backups
PORTAL_BACKUP_DIR=

# Export format: File Geodatabase, Shapefile, GeoJSON
PORTAL_BACKUP_FORMAT=File Geodatabase

# Only backup services owned by this user (leave empty for all)
PORTAL_BACKUP_OWNER_FILTER=

# =============================================================================
# SCHEMA BACKUP
# =============================================================================

# Directory for XML workspace exports (defaults to SDE_LOG_DIR)
XML_BACKUP_DIR=

# Include data in export (true/false) - false = schema only
XML_INCLUDE_DATA=false

# Number of backup files to retain per database
XML_BACKUP_RETENTION=7
